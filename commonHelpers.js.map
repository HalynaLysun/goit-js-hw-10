{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nclass Timer { \n  constructor({onTick}) {\n    this.onTick = onTick;    \n  }\n}\n\nconst inputEl = document.querySelector('#datetime-picker')\nconst startBtn = document.querySelector('button[data-start]')\nconst days = document.querySelector('[data-days]')\nconst hours = document.querySelector('[data-hours]')\nconsole.log(days)\n\n// inputEl.disabled = true;\n// startBtn.disabled = true;\nstartBtn.addEventListener('click', () => {\n  let date = new Date(inputEl.value)\n  const milliseconds = date.getTime()\n  // console.log(milliseconds)\n  if (milliseconds < Date.now()) {\n    alert('Error!!! Illegal operation')\n  } else { \n    const timer = milliseconds - Date.now()\n    convertMs(timer)\n    // days.textContent = timer.days\n}\n})\n\nconst timerOn = new Timer ({\n  onTick: updateTimer,\n})\n\nfunction updateTimer({ days, hours, minutes, seconds }) {\n  days.textContent = days\n  hours.text.content = hours\n}\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\n// console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n// console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n// console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\n  \n// console.log(inputEl )\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    console.log(selectedDates[0]);\n  },\n};\n\nflatpickr(inputEl, options);\n\n"],"names":["inputEl","startBtn","days","options","selectedDates","flatpickr"],"mappings":"wIASA,MAAMA,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,cAAc,EACnD,QAAQ,IAAIA,CAAI,EAIhBD,EAAS,iBAAiB,QAAS,IAAM,CAC5B,IAAI,KAAKD,EAAQ,KAAK,EACP,QAAS,EAEhB,KAAK,OACtB,MAAM,4BAA4B,CAMtC,CAAC,EAoCD,MAAMG,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC7B,CACH,EAEAC,EAAUL,EAASG,CAAO"}